# Документация по API для коллекции Postman

Этот документ описывает эндпоинты API, которые включены в коллекцию Postman, сгенерированную плагином "Postman Collection Admin".

Плагин создает файл `postman_collection.json`, который можно импортировать в Postman. Эта коллекция предоставляет набор предварительно настроенных запросов для взаимодействия с WordPress REST API.

## Базовый URL

Все запросы в коллекции используют переменную `{{baseUrl}}`. По умолчанию она установлена в `http://localhost:8000`, что является локальным URL-адресом для разработки WordPress, запущенного в Docker. Вы можете изменить эту переменную в Postman, чтобы она указывала на вашу промежуточную или рабочую среду.

## Аутентификация

Общедоступные данные можно получать с помощью `GET` запросов без аутентификации.

Для действий, изменяющих данные (`POST`, `PUT`, `PATCH`, `DELETE`), потребуется аутентификация. Рекомендуемый метод — использовать пароль приложения. Вы можете сгенерировать его в своем профиле пользователя в админ-панели WordPress.

Получив пароль приложения, вы можете использовать Basic Auth в Postman, указав свое имя пользователя и пароль приложения.

## Стандартные эндпоинты WordPress

Коллекция включает стандартные операции CRUD (Create, Read, Update, Delete) для обычных объектов WordPress.

### Страницы (Pages)

*   `GET /wp-json/wp/v2/pages`: Получить список всех страниц.
*   `GET /wp-json/wp/v2/pages?slug={page_slug}`: Получить конкретную страницу по ее слагу.
*   `GET /wp-json/wp/v2/pages/{page_id}`: Получить конкретную страницу по ее ID.
*   `POST /wp-json/wp/v2/pages`: Создать новую страницу.
*   `POST /wp-json/wp/v2/pages/{page_id}`: Обновить существующую страницу.
*   `DELETE /wp-json/wp/v2/pages/{page_id}`: Удалить страницу.

### Записи (Posts)

*   `GET /wp-json/wp/v2/posts`: Получить список всех записей.
*   `GET /wp-json/wp/v2/posts?slug={post_slug}`: Получить конкретную запись по ее слагу.
*   `GET /wp-json/wp/v2/posts/{post_id}`: Получить конкретную запись по ее ID.
*   `POST /wp-json/wp/v2/posts`: Создать новую запись.
*   `POST /wp-json/wp/v2/posts/{post_id}`: Обновить существующую запись.
*   `DELETE /wp-json/wp/v2/posts/{post_id}`: Удалить запись.

(Аналогичные эндпоинты доступны для `categories`, `tags`, `users`, `comments` и т.д.)

## Кастомные эндпоинты

### Страницы настроек (Options Pages)

Этот эндпоинт используется для получения данных со страниц настроек ACF.

*   `GET /wp-json/custom/v1/options`: Получить список всех доступных страниц настроек.
*   `GET /wp-json/custom/v1/options/{options_page_slug}`: Получить все поля для конкретной страницы настроек.

### Формы (Forms)

Кастомный тип записи `forms` имеет специальный эндпоинт для отправки данных.

*   `POST /wp-json/wp/v2/forms/{form_slug}/submit`: Отправить данные в форму. Тело запроса должно быть JSON-объектом, содержащим поля формы.

**Пример тела запроса:**
```json
{
    "name": "Иван Иванов",
    "email": "ivan.ivanov@example.com",
    "message": "Это тестовое сообщение."
}
```

## Как сгенерировать коллекцию

1.  Перейдите на страницу "Postman Collection" в меню администратора WordPress.
2.  Вы увидите список всех публичных страниц.
3.  Выберите страницы, для которых вы хотите создать отдельные запросы API.
4.  Нажмите кнопку "Generate and download collection".
5.  Будет загружен файл `postman_collection.json`.
6.  Импортируйте этот файл в Postman. 