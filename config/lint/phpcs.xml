<?xml version="1.0"?>
<ruleset name="Custom WP Ruleset">
    <!-- Безопасность -->
    <rule ref="WordPress.Security.ValidatedSanitizedInput"/>
    <rule ref="WordPress.Security.EscapeOutput"/>
    <rule ref="WordPress.Security.NonceVerification"/>

    <!-- Базовые правила оформления (из стандартных sniffs PHPCS) -->
    <rule ref="Squiz.WhiteSpace.SuperfluousWhitespace"/>
    <rule ref="Squiz.WhiteSpace.ControlStructureSpacing"/>
    <rule ref="Squiz.WhiteSpace.SemicolonSpacing"/>
    <rule ref="Squiz.WhiteSpace.FunctionSpacing"/>
    <rule ref="Squiz.WhiteSpace.ScopeClosingBrace"/>
    <rule ref="Generic.WhiteSpace.DisallowTabIndent"/>
    <rule ref="Generic.WhiteSpace.ScopeIndent"/>

    <!-- Отключаем inline comments -->
    <exclude name="WordPress.Commenting.InlineComment"/>
    <exclude name="Squiz.Commenting.InlineComment"/>
    
    <!-- Отключаем правила, которые могут конфликтовать с современным PHP -->
    <exclude name="WordPress.PHP.DisallowShortTernary"/>
    <exclude name="WordPress.PHP.YodaConditions"/>
    <exclude name="WordPress.PHP.DisallowShortTernary"/>
    
    <!-- Разрешаем современные PHP конструкции -->
    <rule ref="Generic.Files.LineLength">
        <properties>
            <property name="lineLimit" value="200"/>
            <property name="absoluteLineLimit" value="250"/>
        </properties>
    </rule>
</ruleset>